<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="zh-TW">

<head profile="http://gmpg.org/xfn/11">

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="description" content="用戶可以輸入地址查詢(轉換)經緯度並且在 google map 上標註地點, 另外反向也可輸入經緯度查詢實際地址">
<meta name="keywords" content="google地圖,google map, 經緯度, 地址轉經緯度">

<meta name="viewport" content="width=device-width, initial-scale=0.9" />

<link media="only screen and (min-device-width: 1025px)" href="desktop.css" type="text/css" rel="stylesheet" /> 
<link media="only screen and (min-device-width: 481px) and (max-device-width : 1024px)" href="pad.css" type="text/css" rel="stylesheet" /> 
<link media="only screen and (max-device-width: 480px)" href="mobile.css" type="text/css" rel="stylesheet" /> 

<title>輸入地址查詢(轉換)經緯度 / 輸入經緯度查詢(轉換)地址</title>

</head>

<script src="http://maps.google.com/maps/api/js?key=AIzaSyCh5dQ-lYoIi8G61RMAeQDLUGfY8fSVv90&sensor=false"></script>

<script type="text/javascript"> 
  var geocoder;
  var map, popup;
  function initialize() {
    geocoder = new google.maps.Geocoder();
    popup = new google.maps.InfoWindow();

    var latlng = new google.maps.LatLng(25.1023602,121.5463038);		// map center
    var mapOptions = {
      zoom: 16,
      center: latlng
    }
    map = new google.maps.Map(document.getElementById("map"), mapOptions);
  }


  function codeAddress() {
    var address = document.getElementById("address").value;
    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
        map.setCenter(results[0].geometry.location);
		
//		document.getElementById("Latlng").value=results[0].geometry.location.toString();
		document.getElementById("lat").value=results[0].geometry.location.lat();
		document.getElementById("lng").value=results[0].geometry.location.lng();
        var marker = new google.maps.Marker({
            map: map,
            position: results[0].geometry.location
        });
		
		showAddress(results[0], marker);
      } else {
        alert("Geocode was not successful for the following reason: " + status);
      }
    });
  }

    // 設定 marker 的訊息泡泡
  function showAddress(result, marker) {
        var popupContent = result.formatted_address;
        popup.setContent(popupContent);
        popup.open(map, marker);
  }
	
  function getAddress() {
		var xPosition = new google.maps.LatLng(document.getElementById("lat2").value, document.getElementById("lng2").value)

        // 將經緯度透過 Google map Geocoder API 反查地址
        geocoder.geocode({
          'latLng': xPosition
        }, function(results, status) {
            if (status === google.maps.GeocoderStatus.OK) {
                if (results) {
                    document.getElementById("address2").value=results[0].formatted_address;
                }
            } else {
                alert("Reverse Geocoding failed because: " + status);
            }
        });

  }
</script>

<body onLoad="initialize()">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50406074-2', '40era.com');
  ga('send', 'pageview');

</script>


<div align="center">
<table class="tablewidth" border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td align="center">
      <h1 style="color: rgb(51, 204, 0); font-size: 130%">輸入地址查詢(轉換)經緯度 / 輸入經緯度查詢(轉換)地址</h1>
	  </td>
    </tr>
  </tbody>
</table>
<br />
</div>

<div id="ad-1a" align="center">

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 40-BigBanner -->
<ins class="adsbygoogle"
     style="display:inline-block;width:970px;height:90px"
     data-ad-client="ca-pub-2873242962617532"
     data-ad-slot="3527385593"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div>

<div id="ad-1b" align="center">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 40-fl-mobile-1 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-2873242962617532"
     data-ad-slot="2410579190"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div align="center">

<table class="tablewidth" border="0" cellpadding="0" cellspacing="0">
  <tbody>
          <tr>
            <td valign="top" >
	            <h2 class="title2">輸入地址查經緯度</h2>
			    <p> 輸入欲查詢的地址<input id="address" type="text" size="50" value="">   <input type="button" value="查經緯度並在地圖上顯示" onClick="codeAddress()"> </p>



			<table><tr><td>
 					<div id="map"></div>
			</td>
			<td>
			
<div id="ad-1a" align="center">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 40-fl-right -->
<ins class="adsbygoogle"
     style="display:inline-block;width:120px;height:240px"
     data-ad-client="ca-pub-2873242962617532"
     data-ad-slot="4306114793"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

			</td>
			</tr>
			</table>

					緯度<input id="lat" type="textbox" value="">  經度<input id="lng" type="textbox"  value="">
	
			  </td>
		  </tr>

		<tr><td>
<div id="ad-1a" align="center">

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 40-fl-BigRect -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-2873242962617532"
     data-ad-slot="7957585193"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div id="ad-1b" align="center">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 40-fl-mobile-1 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-2873242962617532"
     data-ad-slot="2410579190"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

		</td></tr>
		
          <tr>
            <td valign="top" >
	            <h2 class="title2">輸入經緯度查地址</h2>
  					緯度<input id="lat2" type="textbox"  value="">  經度<input id="lng2" type="textbox"  value="">  <input type="button" value="經緯度查地址" onClick="getAddress()"> <br>
					經緯度對應地址: <input id="address2" type="textbox" size="50" value="">

 			</td>
		  </tr>
 
  </tbody>
</table>
</div>

<div id="ad-1b" align="center">

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 40era-手機下 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:250px;height:250px"
     data-ad-client="ca-pub-2873242962617532"
     data-ad-slot="8885789990"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>


<br>
<br>
<br>
<br>

<div id="footer" align=center>

		<div>
		回首頁： <a href="http://40era.com/" target="_blank">天行健</a> | English Version: <a href="http://40era.com/address-latlng-convert.html" target="_blank">Address and Latlng Covnersion</a>		</div>
		    
        <div id="copyrights">
            © 2012-2015 天行健 
<script type="text/javascript" src="http://widgets.amung.us/classic.js"></script><script type="text/javascript">WAU_classic('bjwnwdkxz51e')</script>  
         |  <a href="http://40era.com/sitemap.html">sitemap</a>;<a href="http://40era.com/sitemap.xml">xml sitemap</a> </div>
		
</div><!-- #footer -->

</div>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?6cf221388df445dd74122e446619ffb1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</body>
</html>
